{% extends 'templates/base/sys.jinja2' %}

{% block page_title %}
	New Product
{% endblock %}

{% block page_css %}
{% endblock %}

{% block page_content %}

	<div class="row">
		<div class="col-sm-6 col-sm-offset-3">
			<div class="content">
				<h2 class="text-center">
					{% if is_update %}
						Edit Product
					{% else %}
						New Product
					{% endif %}
					
				</h2>
				<br>
				<form class="form-signup" role="form" action="" method="post">
					{{ form.name.label }}
					<input type="text" name="{{form.name.name}}" class="form-control" value="{{ form.name.data or '' }}" required autofocus>
					{% if form.name.errors %}
						<ul class="errors">{% for error in form.name.errors %}<li>{{ error }}</li>{% endfor %}</ul>
					{% endif %}
					<br>

					{{ form.description.label }}
					<textarea textarea rows="4" cols="50" name="{{form.description.name}}" class="form-control">{{ form.description.data or '' }}</textarea>
					{% if form.description.errors %}
						<ul class="errors">{% for error in form.description.errors %}<li>{{ error }}</li>{% endfor %}</ul>
					{% endif %}
					<br>

					<div class="row">
						<div class="col-sm-6">
							{{ form.price.label }}
							<div class="input-group">
								<span class="input-group-addon">$</span>
								<input type="text" name="{{form.price.name}}" class="form-control money" value="{{ form.price.data or '' }}" required>
							</div>
							{% if form.price.errors %}
								<ul class="errors">{% for error in form.price.errors %}<li>{{ error }}</li>{% endfor %}</ul>
							{% endif %}
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-sm-12 text-right">
							<div class="btn-group">
								<a class="btn btn-lg btn-default" href="{{request.route_url('product_list')}}">List</a>
								<button class="btn btn-lg btn-success" type="submit">Save</button>
							</div>
						</div>
					</div>
				</form>

			</div>
		</div>
	</div>

{% endblock %}

{% block page_js %}
	<script src="{{request.static_url('pymarket:static/js/jquery.mask.min.js')}}"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$('.money').mask('000.00', {reverse: true});
		});
	</script>
{% endblock %}